<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:viewModels="clr-namespace:Moody.Snake.ViewModels"
                    xmlns:converter="clr-namespace:Moody.Snake.Converter">
    
    
    <converter:FieldContentToFillConverter x:Key="FieldContentToFillConverter"></converter:FieldContentToFillConverter>

    <DataTemplate x:Key="GameTemplate" DataType="{x:Type  viewModels:GameWindowViewModel}">
        <DockPanel>
            <ContentControl DockPanel.Dock="Top" 
                            Content="{Binding GameHeaderViewModel}" 
                            ContentTemplate="{DynamicResource GameHeader}"></ContentControl>
            <ItemsControl DockPanel.Dock="Top"
                          ItemsSource="{Binding RowViewModels}"
                          ItemTemplate="{DynamicResource RowTemplate }"
                          ItemsPanel="{StaticResource VerticalPanelTemplate}">
            </ItemsControl>
        </DockPanel>
    </DataTemplate>

    <DataTemplate x:Key="GameHeader" DataType="viewModels:GameHeaderViewModel">
        <StackPanel Orientation="Horizontal">
            <TextBlock Text="Score"></TextBlock>
            <TextBox Text="{Binding CurrentScore}"></TextBox>
        </StackPanel>
    </DataTemplate>
    
    <DataTemplate x:Key="FieldTemplate" DataType="{x:Type  viewModels:FieldViewModel}">
        <Rectangle Height="10" Width="10"
                   Fill="{Binding Content, Converter={StaticResource FieldContentToFillConverter}}">
        </Rectangle>
    </DataTemplate>

    <DataTemplate x:Key="RowTemplate" DataType="viewModels:RowViewModel">
        <ItemsControl DockPanel.Dock="Top" 
                      ItemsSource="{Binding FieldViewModels }"
                      ItemTemplate="{DynamicResource FieldTemplate }"
                      ItemsPanel="{StaticResource HorizontalPanelTemplate}" />
    </DataTemplate>
</ResourceDictionary>